<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui"
				template="/templates/defaulttemplate.xhtml">
	<ui:define name="title">Visualizar Paciente</ui:define>
	<ui:define name="content">
		<fieldset>
			<legend>Visualizar Paciente</legend>
			<table class="table table-responsive">
				<tr>
					<th>Nome</th>
					<td><h:outputText value="#{pacienteController.paciente.nome}" /></td>
					<th>Prontuário</th>
					<td><h:outputText value="#{pacienteController.paciente.prontuario}" /></td>
				</tr>
				<tr>
					<th>Gênero</th>
					<td><h:outputText value="#{pacienteController.paciente.sexo}" /></td>
					<th>Telefone</th>
					<td><h:outputText value="#{pacienteController.paciente.telefone}" /></td>
				</tr>
				<tr>
					<th>Endereço</th>
					<td><h:outputText value="#{pacienteController.paciente.endereco}" /></td>
					<th>Cidade</th>
					<td><h:outputText value="#{pacienteController.paciente.cidade}" /></td>
				</tr>
				<tr>
					<th>Estado</th>
					<td><h:outputText value="#{pacienteController.paciente.estado}" /></td>
					<th>Estado Civil</th>
					<td><h:outputText value="#{pacienteController.paciente.estadoCivil}" /></td>
				</tr>
				<tr>
					<th>Grau de Instrução</th>
					<td><h:outputText value="#{pacienteController.paciente.grauInstrucao}" /></td>
					<th>Profissão</th>
					<td><h:outputText value="#{pacienteController.paciente.profissao}" /></td>
				</tr>
				<tr>
					<th>Data de Nascimento</th>
					<td>
						<h:outputText value="#{pacienteController.paciente.dataNascimento}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
					</td>
					<th></th>
					<td></td>
				</tr>
			</table>
			<br /><br />
			<h:panelGroup rendered="#{not empty pacienteController.paciente.consultas}">
				<div>
					Consultas:
					<h:form id="form">
						<ui:repeat value="#{pacienteController.paciente.consultas}" var="consulta">
							<h:outputText value=" " />
							<h:commandLink action="#{consultaController.visualizarConsulta(consulta)}">
								<h:outputText value="#{consulta.data}">
									<f:convertDateTime pattern="dd/MM/yyyy" />
								</h:outputText>
							</h:commandLink>
						</ui:repeat>
					</h:form>
				</div>
				<div style="margin: 20px 0;">
					<h:outputScript library="default" name="third_part/jqplot/plugins/jqplot.pointLabels.min.js" />
					<p:tabView value="#{pacienteController.graficos}" var="grafico">
						<p:tab title="#{grafico.series[0].label}">
							<p:lineChart value="#{grafico}" 
										 showDatatip="true" extender="showLabelAlways" />
						</p:tab>
					</p:tabView>
					<script type="text/javascript">
						function showLabelAlways() {
							this.cfg.seriesDefaults = {
								pointLabels: {show: true}
							};
							this.cfg.stackSeries = true;
						}
					</script>
				</div>
			</h:panelGroup>
			<div>
				<h:form>
					<h:commandButton value="Pesquisar outro Paciente"
									 action="#{pacienteController.pesquisarPaciente()}"
									 styleClass="btn btn-default" />
				</h:form>
			</div>
		</fieldset>
	</ui:define>
</ui:composition>