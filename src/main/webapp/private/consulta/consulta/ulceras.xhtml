<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui"
				xmlns:f="http://xmlns.jcp.org/jsf/core">
	<p:tab id="ulceras" title="Úlceras">
		<p:panel header="Úlceras" id="ulcera">
			<div class="text-center">
				<h:graphicImage url="/resources/default/img/pernas.jpg"
								styleClass="img-responsive" id="pernas">
					<f:passThroughAttribute name="usemap" value="#mapaImagem" />
				</h:graphicImage>
				<h:outputScript library="default" name="js/ulceras.js" />
				<br /><br />
				<p:commandButton value="Adicionar" styleClass="btn btn-info"
								 actionListener="#{consultaController.adicionarUlcera}"
								 update="mapaimagem" id="adicionarulcera" />
				<h:inputHidden id="pontos" value="#{consultaController.area}" />
				<br /><br />
				<h:panelGroup id="mapaimagem">
					<map name="mapaImagem" id="mapaImagemId">
						<ui:repeat value="#{consultaController.consulta.situacoesUlcera}" var="situacaoUlcera">
							<h:commandLink id="situacaoUlcera" value="" action="#{consultaController.editarSituacaoUlcera(situacaoUlcera)}">
								<f:passThroughAttribute name="coords" value="#{situacaoUlcera.ulcera.pontos}" />
							</h:commandLink>
						</ui:repeat>
					</map>
				</h:panelGroup>
				<h:panelGroup id="informacoesulcera" rendered="#{not empty consultaController.situacaoUlceraConsulta}">
					<hr />
					<h:panelGroup id="imagemupload" styleClass="imagem_upload">
						<p:fileUpload allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
									  update="imagemupload" mode="advanced"
									  fileUploadListener="#{consultaController.handleFileUpload}"
									  id="fileupload" rendered="#{empty consultaController.imagem}"
									  uploadLabel="Carregar Arquivo" label="Escolher Arquivo..."
									  cancelLabel="Cancelar" />
						<br /><br />
						<p:growl id="mensagensUpload" showDetail="true" />
						<div class="row">
							<div id="canvasDiv" class="col-lg-7 col-lg-offset-1">
								<canvas id="canvasSignature" width="500px"
										height="500px"
										style="border:2px solid #000000;background: url('#{consultaController.imagem}') no-repeat; background-size: 100% 100%;"></canvas>
							</div>
							<div class="controle col-lg-3">
								<input type="button" value="Cancelar" id="canc" onclick="close()" class="btn btn-default" />
								<br />
								<input type="button" id="remove" value="Limpar" class="btn btn-default" />
								<br />
								<input type="button" value="Completar" id="complete" class="btn btn-default" />
								<br />
								<div class="input-group">
									<h:inputText id="pontosulcera" styleClass="form-control" value="#{consultaController.poligonoUlcera}" />
									<h:inputText id="valorarea" styleClass="form-control" value="#{consultaController.situacaoUlceraConsulta.area}" />
									<span class="input-group-addon">cm²</span>
								</div>
								<p id="numero"></p>
							</div>
						</div>
						<script type="text/javascript">
							jQuery(document).ready(function() {
								initialize();
							});
						</script>
					</h:panelGroup>
					<div class="container">
						<div class="row">
							<div class="form-group col-lg-3">
								<h:outputLabel for="prurido" value="Prurido" />
								<h:selectOneMenu id="prurido" styleClass="form-control"
												 value="#{consultaController.situacaoUlceraConsulta.prurido}">
									<f:selectItem itemLabel="Sim" itemValue="#{true}" />
									<f:selectItem itemLabel="Não" itemValue="#{false}" />
								</h:selectOneMenu>
							</div>
							<div class="form-group col-lg-3">
								<h:outputLabel for="ecsema" value="Ecsema" />
								<h:selectOneMenu id="ecsema" styleClass="form-control"
												 value="#{consultaController.situacaoUlceraConsulta.ecsema}">
									<f:selectItem itemLabel="Sim" itemValue="#{true}" />
									<f:selectItem itemLabel="Não" itemValue="#{false}" />
								</h:selectOneMenu>
							</div>
							<div class="form-group col-lg-3">
								<h:outputLabel for="odor" value="Odor" />
								<h:selectOneMenu id="odor" styleClass="form-control"
												 value="#{consultaController.situacaoUlceraConsulta.odor}">
									<f:selectItem itemLabel="Sim" itemValue="#{true}" />
									<f:selectItem itemLabel="Não" itemValue="#{false}" />
								</h:selectOneMenu>
							</div>
							<div class="form-group col-lg-3">
								<h:outputLabel for="profundidade" value="Profundidade" />
								<h:selectOneMenu id="profundidade" styleClass="form-control"
												 value="#{consultaController.situacaoUlceraConsulta.profundidade}">
									<f:selectItem itemLabel="Rasa" itemValue="#{0}" />
									<f:selectItem itemLabel="Profundidade" itemValue="#{1}" />
								</h:selectOneMenu>
							</div>
							<div class="form-group col-lg-3">
								<h:outputLabel for="fibrina" value="Fibrina" />
								<h:selectOneMenu id="fibrina" styleClass="form-control"
												 value="#{consultaController.situacaoUlceraConsulta.fibrina}">
									<f:selectItem itemLabel="Sim" itemValue="#{true}" />
									<f:selectItem itemLabel="Não" itemValue="#{false}" />
								</h:selectOneMenu>
							</div>
							<div class="form-group col-lg-3">
								<h:outputLabel for="granula" value="Granula" />
								<h:selectOneMenu id="granula" styleClass="form-control"
												 value="#{consultaController.situacaoUlceraConsulta.granula}">
									<f:selectItem itemLabel="Sim" itemValue="#{true}" />
									<f:selectItem itemLabel="Não" itemValue="#{false}" />
								</h:selectOneMenu>
							</div>
							<div class="form-group col-lg-3">
								<h:outputLabel for="edema" value="Edema" />
								<h:selectOneMenu id="edema" styleClass="form-control"
												 value="#{consultaController.situacaoUlceraConsulta.edema}">
									<f:selectItem itemLabel="Sem" itemValue="#{0}" />
									<f:selectItem itemLabel="Leve" itemValue="#{1}" />
									<f:selectItem itemLabel="Razoável Leve" itemValue="#{2}" />
									<f:selectItem itemLabel="Razoável Grave" itemValue="#{3}" />
									<f:selectItem itemLabel="Grave" itemValue="#{4}" />
								</h:selectOneMenu>
							</div>
							<!--
							<div class="form-group col-lg-3">
								<h:outputLabel for="nivelDor" value="Nível de Dor" />
								<h:inputText id="nivelDor" value="#{consultaController.situacaoUlceraConsulta.nivelDor}">
									<f:passThroughAttribute name="type" value="range" />
									<f:passThroughAttribute name="min" value="0" />
									<f:passThroughAttribute name="max" value="10" />
								</h:inputText>
							</div>
							-->
							<div class="form-group col-lg-3">
								<h:outputLabel for="secrecao" value="Secreção" />
								<h:selectOneMenu id="secrecao" styleClass="form-control"
												 value="#{consultaController.situacaoUlceraConsulta.secrecao}">
									<f:selectItem itemLabel="Sem" itemValue="#{0}" />
									<f:selectItem itemLabel="Serosa" itemValue="#{1}" />
									<f:selectItem itemLabel="Mucu-purulenta" itemValue="#{2}" />
									<f:selectItem itemLabel="Purulenta" itemValue="#{3}" />
									<f:selectItem itemLabel="Sero-sanguinolenta" itemValue="#{4}" />
									<f:selectItem itemLabel="Mucóide" itemValue="#{5}" />
									<f:selectItem itemLabel="Sanguinolenta" itemValue="#{6}" />
								</h:selectOneMenu>
							</div>
							<!--
							<div class="form-group col-lg-3">
								<h:outputLabel for="ciclo_litico" value="Ciclo Lítico" />
								<h:selectOneMenu id="ciclo_litico" styleClass="form-control"
												 value="#{consultaController.situacaoUlceraConsulta.cicloLitico}">
									<f:selectItem itemLabel="Sim" itemValue="#{true}" />
									<f:selectItem itemLabel="Não" itemValue="#{false}" />
								</h:selectOneMenu>
							</div>
							-->
							<div class="form-group col-lg-3">
								<h:outputLabel for="estado" value="Estado" />
								<h:selectOneMenu id="estado" styleClass="form-control"
												 value="#{consultaController.situacaoUlceraConsulta.estadoUlcera}">
									<f:selectItem itemLabel="Limpa" itemValue="#{0}" />
									<f:selectItem itemLabel="Limpa Contaminada" itemValue="#{1}"  />
									<f:selectItem itemLabel="Contaminada" itemValue="#{2}" />
									<f:selectItem itemLabel="Infectada" itemValue="#{3}" />
									<f:selectItem itemLabel="Necrosada" itemValue="#{4}" />
									<f:selectItem itemLabel="Cicatrizada" itemValue="#{5}" />
								</h:selectOneMenu>
							</div>
						</div>
					</div>
					<br /><br />
					<h:commandButton value="Finalizar Ulcera" styleClass="btn btn-default"
									 action="#{consultaController.finalizarSituacaoUlcera()}" />
				</h:panelGroup>
			</div>
		</p:panel>
	</p:tab>
</ui:composition>